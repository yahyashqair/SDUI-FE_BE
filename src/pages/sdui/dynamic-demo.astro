---
import Layout from '../../layouts/Layout.astro';
import { DynamicSDUIRenderer } from '../../sdui/DynamicRenderer';
import '../../sdui/components'; // Register all SDUI components

// Interactive components must be hydrated
---

<Layout title="Dynamic SDUI Demo">
  <main class="dynamic-demo">
    <div class="header">
        <h1>Dynamic SDUI Demo</h1>
        <p>This page fetches its UI definition from <code>/api/sdui/home</code> at runtime.</p>
    </div>

    <div class="demo-container">
        <!-- We pass client:load because this component manages data fetching and state -->
        <DynamicSDUIRenderer endpoint="/api/sdui/home" client:load />
    </div>
  </main>
</Layout>

<style>
  .dynamic-demo {
    min-height: 100vh;
    background: #f3f4f6;
    font-family: 'Inter', system-ui, sans-serif;
  }

  .header {
    background: #1f2937;
    color: white;
    padding: 3rem 2rem;
    text-align: center;
  }

  .header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .header p {
    opacity: 0.8;
  }

  .demo-container {
    max-width: 1000px;
    margin: -2rem auto 4rem;
    padding: 0 1rem;
    position: relative;
    z-index: 10;
  }
</style>
